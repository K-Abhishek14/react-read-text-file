{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-read-text-file-5metk2\\\\src\\\\index.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport './style.css';\nimport { EditorState, convertToRaw } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport { Editor } from 'react-draft-wysiwyg';\n\nconst getHtml = editorState => draftToHtml(convertToRaw(editorState.getCurrentContent()));\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.showFile = () => {\n      if (window.File && window.FileReader && window.FileList && window.Blob) {\n        //  var preview = document.getElementById('show-text');\n        // var preview =  this.state.editorState;\n        var file = document.querySelector('input[type=file]').files[0];\n        var reader = new FileReader();\n        var textFile = /text.*/;\n\n        if (file.type.match(textFile)) {\n          reader.onload = function (event) {\n            preview.innerHTML = event.target.result;\n          };\n        } //  else {\n        //     preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\n        //  }\n\n\n        reader.readAsText(file);\n      } else {\n        alert(\"Your browser is too old to support HTML5 File API\");\n      }\n    };\n\n    this.state = {\n      name: 'React',\n      editorState: EditorState.createEmpty()\n    };\n  }\n\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.showFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"show-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"Choose text File\"), /*#__PURE__*/React.createElement(Editor, {\n      editorState: editorState,\n      wrapperClassName: \"rich-editor demo-wrapper\",\n      editorClassName: \"demo-editor\",\n      onEditorStateChange: this.onEditorStateChange,\n      placeholder: \"The message goes here...\",\n      id: \"Editor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nrender( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 8\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["D:/react-read-text-file-5metk2/src/index.js"],"names":["React","Component","render","EditorState","convertToRaw","draftToHtml","Editor","getHtml","editorState","getCurrentContent","App","constructor","showFile","window","File","FileReader","FileList","Blob","file","document","querySelector","files","reader","textFile","type","match","onload","event","preview","innerHTML","target","result","readAsText","alert","state","name","createEmpty","onEditorStateChange","getElementById"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAO,aAAP;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,UAA1C;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,SAASC,MAAT,QAAuB,qBAAvB;;AAEA,MAAMC,OAAO,GAAGC,WAAW,IAAIH,WAAW,CAACD,YAAY,CAACI,WAAW,CAACC,iBAAZ,EAAD,CAAb,CAA1C;;AAEA,MAAMC,GAAN,SAAkBT,SAAlB,CAA4B;AAC1BU,EAAAA,WAAW,GAAG;AACZ;;AADY,SAQdC,QARc,GAQH,MAAM;AACf,UAAIC,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACE,UAAtB,IAAoCF,MAAM,CAACG,QAA3C,IAAuDH,MAAM,CAACI,IAAlE,EAAwE;AACpE;AACA;AACC,YAAIC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,EAA2CC,KAA3C,CAAiD,CAAjD,CAAX;AACA,YAAIC,MAAM,GAAG,IAAIP,UAAJ,EAAb;AAEA,YAAIQ,QAAQ,GAAG,QAAf;;AAEA,YAAIL,IAAI,CAACM,IAAL,CAAUC,KAAV,CAAgBF,QAAhB,CAAJ,EAA+B;AAC5BD,UAAAA,MAAM,CAACI,MAAP,GAAgB,UAAUC,KAAV,EAAiB;AAC9BC,YAAAA,OAAO,CAACC,SAAR,GAAoBF,KAAK,CAACG,MAAN,CAAaC,MAAjC;AACF,WAFD;AAGF,SAZkE,CAapE;AACA;AACA;;;AACCT,QAAAA,MAAM,CAACU,UAAP,CAAkBd,IAAlB;AAEL,OAlBA,MAkBM;AACJe,QAAAA,KAAK,CAAC,mDAAD,CAAL;AACF;AACD,KA9Ba;;AAEZ,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,OADK;AAEX3B,MAAAA,WAAW,EAAEL,WAAW,CAACiC,WAAZ;AAFF,KAAb;AAID;;AA0BDlC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEM,MAAAA;AAAF,QAAkB,KAAK0B,KAA7B;AACA,wBACC,uDACG;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKtB,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,eAEG;AAAK,MAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFH,eAKC,oBAAC,MAAD;AACA,MAAA,WAAW,EAAEJ,WADb;AAEA,MAAA,gBAAgB,EAAC,0BAFjB;AAGA,MAAA,eAAe,EAAC,aAHhB;AAIA,MAAA,mBAAmB,EAAE,KAAK6B,mBAJ1B;AAKA,MAAA,WAAW,EAAC,0BALZ;AAMA,MAAA,EAAE,EAAG,QANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALD,CADD;AAgBD;;AAnDyB;;AAsD5BnC,MAAM,eAAC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAD,EAAUiB,QAAQ,CAACmB,cAAT,CAAwB,MAAxB,CAAV,CAAN","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport './style.css';\nimport { EditorState, convertToRaw } from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport { Editor } from 'react-draft-wysiwyg';\n\nconst getHtml = editorState => draftToHtml(convertToRaw(editorState.getCurrentContent()));\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'React',\n      editorState: EditorState.createEmpty(),\n    };\n  }\n\n  showFile = () => {\n    if (window.File && window.FileReader && window.FileList && window.Blob) {\n        //  var preview = document.getElementById('show-text');\n        // var preview =  this.state.editorState;\n         var file = document.querySelector('input[type=file]').files[0];\n         var reader = new FileReader()\n\n         var textFile = /text.*/;\n\n         if (file.type.match(textFile)) {\n            reader.onload = function (event) {\n               preview.innerHTML = event.target.result;\n            }\n         } \n        //  else {\n        //     preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\n        //  }\n         reader.readAsText(file);\n\n   } else {\n      alert(\"Your browser is too old to support HTML5 File API\");\n   }\n  }\n\n  render() {\n    const { editorState } = this.state;\n    return (\n     <>\n        <input type=\"file\" onChange={this.showFile} />\n        <div id=\"show-text\">Choose text File</div>\n        \n      \n      <Editor\n      editorState={editorState}\n      wrapperClassName=\"rich-editor demo-wrapper\"\n      editorClassName=\"demo-editor\"\n      onEditorStateChange={this.onEditorStateChange}\n      placeholder=\"The message goes here...\"\n      id = \"Editor\"\n    />\n    </>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"]},"metadata":{},"sourceType":"module"}